const affiliateLinks = {
"sony-a6700": "https:
"sony-a7c-ii": "https:
"sony-a7iv": "https:
"sony-zv-e10-ii": "https:
"sony-zv-e10": "https:
"sony-zv-e1": "https:
"sony-fx3": "https:
"fuji-x100vi": "https:
"fuji-x-t50": "https:
"fuji-x-t5": "https:
"fuji-xt5": "https:
"fuji-x-s20": "https:
"fuji-xs10": "",
"canon-r50": "https:
"canon-r100": "https:
"canon-r8": "https:
"canon-r6ii": "https:
"canon-r6-ii": "https:
"panasonic-s5ii": "https:
"panasonic-s5iix": "https:
"lumix-g100d": "https:
"nikon-z8": "https:
"om-system-om5": "https:
"dji-pocket-3": "https:
"dji-action-5": "https:
"gopro-13": "https:
"insta360-x4": "https:
"sony-a7-v": "",
"canon-r6-iii": ""
};
function applyAffiliateLinks() {
console.log("Applying affiliate links...");
let updatedCount = 0;
const isGerman = document.documentElement.lang === 'de';
const checkPriceText = isGerman ? 'Preis prÃ¼fen' : 'Check Price';
const updateBtn = (btn, url) => {
if (btn) {
btn.href = url;
btn.target = "_blank";
btn.rel = "sponsored noopener noreferrer";
}
};
for (const [id, link] of Object.entries(affiliateLinks)) {
if (!link || link === "#" || link === "") continue;
const section = document.getElementById(id);
if (section) {
const btn = section.querySelector('.btn-buy');
updateBtn(btn, link);
}
const dataButtons = document.querySelectorAll(`.btn-buy[data-product="${id}"]`);
dataButtons.forEach(btn => updateBtn(btn, link));
const selector = `a[href="#${id}"]`;
const internalAnchors = document.querySelectorAll(selector);
internalAnchors.forEach(anchor => {
const row = anchor.closest('tr');
if (row) {
const priceCell = row.querySelector('.price-check');
if (priceCell) {
priceCell.innerHTML = `
<a href="${link}" target="_blank" rel="sponsored noopener noreferrer"
style="color: #10b981; text-decoration: none; font-weight: 800; display: inline-flex; align-items: center; gap: 4px;">
${checkPriceText} <span style="font-size: 1.2em;">&rarr;</span>
</a>
`;
updatedCount++;
}
}
});
}
console.log(`Links applied. Updated ${updatedCount} comparisons/buttons.`);
}
if (document.readyState === "loading") {
document.addEventListener("DOMContentLoaded", applyAffiliateLinks);
} else {
applyAffiliateLinks();
}