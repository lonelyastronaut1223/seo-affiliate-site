const affiliateLinks = {
    "sony-a6700": "https://amzn.to/4sNqGpp"
"sony-a7c-ii": "https://amzn.to/3Nu7WLt"
"sony-a7iv": "https://amzn.to/4bGTSYU"
"sony-zv-e10-ii": "https://amzn.to/4pLUaB2"
"sony-zv-e10": "https://amzn.to/3ZqPFRG"
"sony-zv-e1": "https://amzn.to/3NrjH5m"
"sony-fx3": "https://amzn.to/3LrIllM"
"fuji-x100vi": "https://amzn.to/3NSMrE1"
"fuji-x-t50": "https://amzn.to/4r1yz8O"
"fuji-x-t5": "https://amzn.to/4608U8o"
"fuji-xt5": "https://amzn.to/4608U8o"
"fuji-x-s20": "https://amzn.to/4sOOHMB"
"fuji-xs10": "https://www.amazon.de/Fujifilm-X-S10-Body-Black-FUJIFILM/dp/B08KWGJ9YK?th=1"
"canon-r50": "https://amzn.to/3LrDJfr"
"canon-r100": "https://amzn.to/4bDXACz"
"canon-r8": "https://amzn.to/4pQdxt4"
"canon-r6ii": "https://amzn.to/3NrHVMN"
"canon-r6-ii": "https://amzn.to/3NrHVMN"
"panasonic-s5ii": "https://amzn.to/49wqRhk"
"panasonic-s5iix": "https://amzn.to/4r7x0qe"
"lumix-g100d": "https://amzn.to/4pOXNpY"
"nikon-z8": "https://amzn.to/4qthiFD"
"om-system-om5": "https://amzn.to/4sQdzUf"
"dji-pocket-3": "https://amzn.to/4jSSwMT"
"dji-action-5": "https://amzn.to/4a3tI1h"
"gopro-13": "https://amzn.to/4pMsdsU",
"insta360-x4": "https://amzn.to/3NzLzUL"
"sony-a7-v": "",
    "canon-r6-iii": ""
};
function applyAffiliateLinks() {
    console.log("Applying affiliate links...");
    let updatedCount = 0;
    const isGerman = document.documentElement.lang === 'de';
    const checkPriceText = isGerman ? 'Preis prÃ¼fen' : 'Check Price';
    const updateBtn = (btn, url) => {
        if (btn) {
            btn.href = url;
            btn.target = "_blank";
            btn.rel = "sponsored noopener noreferrer";
        }
    };
    for (const [id, link] of Object.entries(affiliateLinks)) {
        if (!link || link === "#" || link === "") continue;
        const section = document.getElementById(id);
        if (section) {
            const btn = section.querySelector('.btn-buy');
            updateBtn(btn, link);
        }
        const dataButtons = document.querySelectorAll(`.btn-buy[data-product="${id}"]`);
        dataButtons.forEach(btn => updateBtn(btn, link));
        const selector = `a[href="#${id}"]`;
        const internalAnchors = document.querySelectorAll(selector);
        internalAnchors.forEach(anchor => {
            const row = anchor.closest('tr');
            if (row) {
                const priceCell = row.querySelector('.price-check');
                if (priceCell) {
                    priceCell.innerHTML = `
<a href="${link}" target="_blank" rel="sponsored noopener noreferrer"
style="color: #10b981; text-decoration: none; font-weight: 800; display: inline-flex; align-items: center; gap: 4px;">
${checkPriceText} <span style="font-size: 1.2em;">&rarr;</span>
</a>
`;
                    updatedCount++;
                }
            }
        });
    }
    console.log(`Links applied. Updated ${updatedCount} comparisons/buttons.`);
}
if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", applyAffiliateLinks);
} else {
    applyAffiliateLinks();
}